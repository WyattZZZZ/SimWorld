

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UnrealCV+ &mdash; SimWorld 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=6cecdd3b" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Python API" href="../resources/modules.html" />
    <link rel="prev" title="Agent System" href="agent_system.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            SimWorld
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">GETTING STARTED</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/minimal_example.html">Minimal Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/additional_environments.html">Additional Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/make_your_own_pak.html">Make Your Own Pak Files</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SIMWORLD COMPONENTS</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="ue_detail.html">Unreal Engine Backend</a></li>
<li class="toctree-l1"><a class="reference internal" href="citygen.html">Procedural City Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="waypoint_system.html">Waypoint System</a></li>
<li class="toctree-l1"><a class="reference internal" href="traffic_system.html">Traffic System</a></li>
<li class="toctree-l1"><a class="reference internal" href="agent_system.html">Agent System</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">UnrealCV+</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#communicator">Communicator</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-communicator">Using Communicator</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">PYTHON API REFERENCE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../resources/modules.html">Python API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SIMWORLD ROBOTICS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../simworld-robotics/simworld_robotics.html">SimWorld-Robotics</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SimWorld</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">UnrealCV+</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/components/unrealcv+.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="unrealcv">
<h1>UnrealCV+<a class="headerlink" href="#unrealcv" title="Link to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<!-- ```{image} ../assets/communicator.png
:width: 800px
:align: center
:alt: Communicator Architecture
``` -->
<p><strong>UnrealCV+</strong> is a communication module that bridges the Unreal Engine backend and the Environment layer, enabling efficient and reliable interaction between them over a TCP connection. Built upon the original <a class="reference external" href="https://unrealcv.org/">UnrealCV</a> framework, UnrealCV+ extends its capabilities to support large-scale, real-time embodied AI simulations. Implemented in both Python and C++, it provides flexible data exchange and fine-grained control over the simulation process.</p>
<p>UnrealCV+ introduces a custom command set designed for agent-based tasks, including scene control, actor manipulation, and data querying. For example, users or the environment layer can send commands such as: “spawn actors at locations”, “get position of a pedestrian” and “execute action of a robot”</p>
<p>During each simulation loop, the Environment layer manages the logical progression of tasks, while the Unreal Engine continuously returns updated physical states and visual observations. All data and commands are transmitted through UnrealCV+, forming a decoupled architecture that separates logic computation from rendering—greatly improving flexibility, scalability, and modularity.</p>
<p>We released UnrealCV+. The Python side is included in SimWorld GitHub repo, and the Unreal Engine side has been packaged in the binary file of SimWorld Unreal Engine backend.</p>
</section>
<section id="communicator">
<h2>Communicator<a class="headerlink" href="#communicator" title="Link to this heading"></a></h2>
<p>UnrealCV+ is realized through the <code class="docutils literal notranslate"><span class="pre">Communicator</span></code> and <code class="docutils literal notranslate"><span class="pre">UnrealCV</span></code> classes in Python. The <code class="docutils literal notranslate"><span class="pre">Communicator</span></code> class serves as the primary interface between Python and Unreal Engine (UE), managing all interactions between the two. It holds an <code class="docutils literal notranslate"><span class="pre">unrealcv</span></code> attribute—an instance of the <code class="docutils literal notranslate"><span class="pre">UnrealCV</span></code> class—which is responsible for establishing and maintaining the underlying TCP connection.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Communicator</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unrealcv</span><span class="p">:</span> <span class="n">UnrealCV</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the communicator.</span>

<span class="sd">        Args:</span>
<span class="sd">            unrealcv: UnrealCV instance for communication with Unreal Engine.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unrealcv</span> <span class="o">=</span> <span class="n">unrealcv</span>
        <span class="o">...</span>

<span class="k">class</span><span class="w"> </span><span class="nc">UnrealCV</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">9000</span><span class="p">,</span> <span class="n">ip</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">480</span><span class="p">)):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the UnrealCV client.</span>

<span class="sd">        Args:</span>
<span class="sd">            port: Connection port, defaults to 9000.</span>
<span class="sd">            ip: Connection IP address, defaults to 127.0.0.1.</span>
<span class="sd">            resolution: Resolution, defaults to (640, 480).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ip</span> <span class="o">=</span> <span class="n">ip</span>
        <span class="c1"># Build a client to connect to the environment</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">unrealcv</span><span class="o">.</span><span class="n">Client</span><span class="p">((</span><span class="n">ip</span><span class="p">,</span> <span class="n">port</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resolution</span> <span class="o">=</span> <span class="n">resolution</span>
        <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="using-communicator">
<h2>Using Communicator<a class="headerlink" href="#using-communicator" title="Link to this heading"></a></h2>
<p>All communication between Python and UE—such as rendering the scene, simulating traffic, or interacting with agents—is handled through the Communicator. Below are some basic use cases, including how to generate a city in UE, spawn objects, and clean the environment. For complete functionality, refer to the <a class="reference internal" href="../resources/modules.html"><span class="std std-doc">Python API</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Instantiate unrealcv and communicator first</span>
<span class="n">ucv</span> <span class="o">=</span> <span class="n">UnrealCV</span><span class="p">()</span>
<span class="n">communicator</span> <span class="o">=</span> <span class="n">Communicator</span><span class="p">(</span><span class="n">ucv</span><span class="p">)</span>

<span class="c1"># Render a city</span>
<span class="n">communicator</span><span class="o">.</span><span class="n">generate_world</span><span class="p">(</span><span class="s1">&#39;path/to/city_json&#39;</span><span class="p">,</span> <span class="s1">&#39;path/to/asset_database&#39;</span><span class="p">)</span>

<span class="c1"># Spawn objects</span>
<span class="c1">## Spawn static object (non-movable)</span>
<span class="n">communicator</span><span class="o">.</span><span class="n">spawn_object</span><span class="p">(</span><span class="n">object_name</span><span class="p">,</span> <span class="n">model_path</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">direction</span><span class="p">)</span>
<span class="c1">## Spawn an agent (controlled by LLM or rule-based logic)</span>
<span class="n">communicator</span><span class="o">.</span><span class="n">spawn_agent</span><span class="p">(</span><span class="n">agent</span><span class="p">,</span> <span class="n">model_path</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span>  
<span class="c1">## Spawn the UE Manager actor (required for agent physical state updates)  </span>
<span class="n">communicator</span><span class="o">.</span><span class="n">spawn_ue_manager</span><span class="p">(</span><span class="n">ue_manager_path</span><span class="p">)</span>  

<span class="c1"># Clear the UE environment (optionally keeping roads)</span>
<span class="n">communicator</span><span class="o">.</span><span class="n">clear_env</span><span class="p">(</span><span class="n">keep_roads</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="agent_system.html" class="btn btn-neutral float-left" title="Agent System" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../resources/modules.html" class="btn btn-neutral float-right" title="Python API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, SimWorld Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>